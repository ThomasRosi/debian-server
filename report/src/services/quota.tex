\subsection{Quotas}
\label{subsec:quotas}

Dans le but de mieux gérer l'espace personnel de chaque utilisateur, des quotas
ont été mis en place sur les partitions \textit{/home} et \textit{/share}.

À la création de chaque utilisateur, un quota avec une limite
dure\footnote{Limite que nul ne peut dépasser.} de 500 Mo et une limite
douce\footnote{Limite que l'utilisateur (ou groupe) peut dépasser pendant un
certain laps de temps.} de 400 Mo, lui sera attribué.

\underline{Remarque :} lors du dépassement de la limite douce, l'utilisateur
sera averti.

\begin{lstlisting}[language=bash]
  # Installation of quotatool, useful for scripts.
  apt-get install -y quota quotatool
  # Unmout the /home partition.
  user -k /dev/mapper/VolGroup-LVhome
  umount -l /dev/mapper/VolGroup-LVhome
  # Unmout the /srv/share partition.
  user -k /srv/share
  umount -l /srv/share

  # Add this to /etc/fstab to the /home and /srv/share line.
  usrquota,grpquota

  # Create the file 'aquota.user' and aquota.group' and
  # initialize all the partitions that contains quotas.
  quotacheck -cagumv

  # Mount the /home partition.
  mount /dev/mapper/VolGroup-LVhome
  # Mount the srv/share partition.
  mount /srv/share

  # Activate quota.
  quotaon -avug
\end{lstlisting}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
